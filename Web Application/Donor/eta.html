<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>DONOR</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-aFq/bzH65dt+w6FI2ooMVUpc+21e0SRygnTpmBvdBgSdnuTN7QbdgL+OapgHtvPp"
      crossorigin="anonymous"
    />

    <link rel="stylesheet" href="/Web Application/MainStyleSheet.css" />
    </head>
    <body>
        <!-- Nav Bar -->
    <header>
      
      <div class="px-3 py-2 text-bg-dark border-bottom">
        
        <div class="container">
          
          <div
            class="d-flex flex-wrap align-items-center justify-content-center justify-content-lg-start"
          >
          <img src="/Web Application/Pics/Logo3.png" alt="DONORA LOGO"
            width="5%"
            height="5%">
            <a
              href="/"
              class="d-flex align-items-center my-2 my-lg-0 me-lg-auto text-white text-decoration-none"
            >
              <svg
                class="bi me-2"
                width="40"
                height="32"
                role="img"
                aria-label="Bootstrap"
              >
                <use xlink:href="#bootstrap"></use>
              </svg>
            </a>
            
            <ul
              class="nav col-12 col-lg-auto my-2 justify-content-center my-md-0 text-small"
            >
            <li>
              <a href="" class="nav-link text-white" onClick="home()">
                <svg class="bi d-block mx-auto mb-1" width="24" height="24">
                  <use xlink:href="#home"></use>
                </svg>
                Home
              </a>
            </li>
            <li>
              <li  class="nav-item dropdown">
                
                <a  class="nav-link text-white dropdown-toggle" href="#" id="navbarDropdownMenuLink1" role="button" data-bs-toggle="dropdown" aria-expanded="false" >
                  <svg class="bi d-block mx-auto mb-1" width="24" height="24">
                    <use xlink:href="#grid"></use>
                  </svg>
                  Notifications
                </a>
                <ul class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
                  <li id="NotifDonor" >
                    <label >No Notifications yet</label>
                  </li>
                </ul>
              </li>
            </li>
            <li>
              <li  class="nav-item dropdown">
                <a  class="nav-link text-white dropdown-toggle" href="#" id="navbarDropdownMenuLink" role="button" data-bs-toggle="dropdown" aria-expanded="false" >
                  <svg class="bi d-block mx-auto mb-1" width="24" height="24">
                    <use xlink:href="#grid"></use>
                  </svg>
                  Profile
                </a>
                <ul class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
                  <li><a class="dropdown-item" href="#">Settings</a></li>
                  <li><a class="dropdown-item" href="/Web Application/login.html">Sign out</a></li>
                </ul>
              </li>
                
              
            </li>
            </ul>
          </div>
        </div>
      </div>

      <div class="px-3 py-2 border-bottom mb-3">
        <div class="container d-flex flex-wrap justify-content-center">
          <a href="/Web Application/Organization/organization.html">
            <img
              src="/Web Application/Pics/back-button.png"
              width="25"
              height="25"
              alt="back button"
            />
            <br />
          </a>

          <form
            class="col-12 col-lg-auto mb-2 mb-lg-0 me-lg-auto"
            role="search"
          >
            <input
              type="search"
              class="form-control"
              placeholder="Search..."
              aria-label="Search"
            />
          </form>
          <br />
        </div>
      </div>
    </header>
    <!-- Nav Bar End-->
        <!--ETA-->
        <!DOCTYPE html>
<body>
  <h2>Donation Pickup ETA</h2>

  <div class="pickup-info">
    
    <h3>Your driver will arrive after <span id="eta" data-min="10" data-max="30">00</span> minutes</h3>
<script>
  // Get the minimum and maximum time from data attributes (in minutes)
  const minTime = parseInt(document.getElementById("eta").dataset.min);
  const maxTime = parseInt(document.getElementById("eta").dataset.max);

  // Generate a random initial time within the range (in minutes)
  let remainingTime = 1

  // Update the displayed time (with minutes)
  document.getElementById("eta").textContent = remainingTime;

  // Function to update the timer (decrements in minutes)
  function updateTimer() {
    remainingTime--;
    document.getElementById("eta").textContent = remainingTime;

    // Stop the timer and show alert when it reaches zero
    if (remainingTime === 0) {
      clearInterval(intervalId);
      notification1();
    }
  }

  function notification1() {
  var notif = document.getElementById("NotifDonor");
  var mainNotif = document.getElementById("navbarDropdownMenuLink1");
  mainNotif.style.color = "#FF0000";
  mainNotif.className = "nav-link dropdown-toggle";
  notif.textContent = "Driver has arrived";
}

  // Start the timer with an interval of 60 seconds (1 minute)
  const intervalId = setInterval(updateTimer, 6000);
</script>

    <p>Your <span id="selectedTransport"></span> is scheduled to arrive in <span id="pickupTime"></span>. Please ensure you're available at the pickup location.</p>
    <script>
      // Get the selected transportation from localStorage
      const selectedTransport = localStorage.getItem("selectedTransportation");
    
      // Display the selected transportation in the span element
      document.getElementById("selectedTransport").textContent = selectedTransport;
    </script>
<script>
  // Get the selected time from localStorage
  const selectedTime = localStorage.getItem("selectedTime");

  // Display the selected time in the span element
  document.getElementById("pickupTime").textContent = selectedTime;
</script>
  </div>

  <!-- Add more pickup info sections as needed -->
  
  <script>
    // Generate random ETA between the min and max specified in data attributes
    document.addEventListener("DOMContentLoaded", function() {
      var etas = document.querySelectorAll('[contenteditable]');
      etas.forEach(function(eta) {
        var min = parseInt(eta.getAttribute('data-min'));
        var max = parseInt(eta.getAttribute('data-max'));
        var randomETA = Math.floor(Math.random() * (max - min + 1)) + min;
        eta.textContent = randomETA < 10 ? "0" + randomETA : randomETA;
      });
    });
  </script>
           <!--END-->
           <script src="script.js"></script>
           <script src = "donorMainPageScript.js"></script>
           <script
             src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
             integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
             crossorigin="anonymous"
           ></script>
    </body>
    </html>